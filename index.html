<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>蛋仔农场升级时间计算器</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 500px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(90deg, #FF9A8B 0%, #FF6A88 100%);
            color: white;
            padding: 25px 20px;
            text-align: center;
            position: relative;
        }
        
        .header h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
            font-weight: 700;
        }
        
        .header p {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .content {
            padding: 25px;
        }
        
        .section {
            margin-bottom: 25px;
        }
        
        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #FF6A88;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
            margin-bottom: 15px;
        }
        
        .input-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .input-row .input-group {
            flex: 1;
            margin-bottom: 0;
        }
        
        label {
            font-size: 0.9rem;
            color: #555;
            margin-bottom: 6px;
            font-weight: 500;
        }
        
        input {
            padding: 14px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #f9f9f9;
        }
        
        input:focus {
            border-color: #FF9A8B;
            outline: none;
            background: #fff;
            box-shadow: 0 0 0 3px rgba(255, 106, 136, 0.2);
        }
        
        .calculate-btn {
            background: linear-gradient(90deg, #FF9A8B 0%, #FF6A88 100%);
            color: white;
            text-align: center;
            padding: 16px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
            border: none;
            box-shadow: 0 4px 10px rgba(255, 106, 136, 0.3);
        }
        
        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(255, 106, 136, 0.4);
        }
        
        .calculate-btn:active {
            transform: translateY(0);
        }
        
        .result {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            margin-top: 25px;
            display: none;
            border: 2px dashed #64b5f6;
        }
        
        .result-title {
            font-size: 1.1rem;
            color: #1976d2;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .result-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: #0d47a1;
        }
        
        .formula {
            font-size: 0.85rem;
            color: #666;
            text-align: center;
            margin-top: 25px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 3px solid #FF9A8B;
        }
        
        @media (max-width: 480px) {
            .input-row {
                flex-direction: column;
                gap: 15px;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .content {
                padding: 20px 15px;
            }
        }
        
        .footer {
            text-align: center;
            font-size: 0.8rem;
            color: #888;
            padding: 15px;
            background: #f9f9f9;
            border-top: 1px solid #eee;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>蛋仔农场升级时间计算器</h1>
            <p>精确计算您的农场升级所需时间</p>
        </div>
        
        <div class="content">
            <div class="section">
                <div class="section-title">白天作物</div>
                <div class="input-group">
                    <label for="day-planting">总种植次数</label>
                    <input type="number" id="day-planting" min="0" value="" placeholder="请输入白天种植次数">
                </div>
                <div class="input-group">
                    <label for="day-exp">单株经验值</label>
                    <input type="number" id="day-exp" min="0" value="" placeholder="请输入单株经验">
                </div>
            </div>
            
            <div class="section">
                <div class="section-title">晚上作物</div>
                <div class="input-group">
                    <label for="night-planting">总种植次数</label>
                    <input type="number" id="night-planting" min="0" value="" placeholder="请输入晚上种植次数">
                </div>
                <div class="input-group">
                    <label for="night-exp">单株经验值</label>
                    <input type="number" id="night-exp" min="0" value="" placeholder="请输入单株经验">
                </div>
            </div>
            
            <div class="section">
                <div class="input-row">
                    <div class="input-group">
                        <label for="field-count">田地数量</label>
                        <input type="number" id="field-count" min="1" value="" placeholder="请输入田地数量">
                    </div>
                    <div class="input-group">
                        <label for="required-exp">升级所需经验</label>
                        <input type="number" id="required-exp" min="0" value="" placeholder="升级所需经验">
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="current-exp">已有经验值</label>
                    <input type="number" id="current-exp" min="0" value="" placeholder="当前拥有经验">
                </div>
            </div>
            
            <div class="calculate-btn" id="calculate-btn">计算升级时间</div>
            
            <div class="result" id="result">
                <div class="result-title">升级所需时间</div>
                <div class="result-value" id="result-value">5 天 12 小时</div>
            </div>
            
            <div class="formula">
                <strong>计算公式</strong>: (升级所需经验 - 已有经验) / [(白天作物单株经验 × 种植次数 + 晚上作物单株经验 × 种植次数) × 田地数量] = 升级所需天数
            </div>
        </div>
        
        <div class="footer">
            © 2025 蛋仔农场升级计算器 | 让农场管理更轻松
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const calculateBtn = document.getElementById('calculate-btn');
            const resultDiv = document.getElementById('result');
            const resultValue = document.getElementById('result-value');
            
            calculateBtn.addEventListener('click', function() {
                // 获取输入值
                const dayPlanting = parseFloat(document.getElementById('day-planting').value) || 0;
                const dayExp = parseFloat(document.getElementById('day-exp').value) || 0;
                const nightPlanting = parseFloat(document.getElementById('night-planting').value) || 0;
                const nightExp = parseFloat(document.getElementById('night-exp').value) || 0;
                const fieldCount = parseFloat(document.getElementById('field-count').value) || 1;
                const requiredExp = parseFloat(document.getElementById('required-exp').value) || 0;
                const currentExp = parseFloat(document.getElementById('current-exp').value) || 0;
                
                // 验证输入
                if (requiredExp <= 0) {
                    showResult('必填项未填', true);
                    return;
                }
                
                if (currentExp > requiredExp) {
                    showResult('恭喜！您已经可以升级了！', false);
                    return;
                }
                
                // 计算每日总经验
                const dailyExp = (dayExp * dayPlanting + nightExp * nightPlanting) * fieldCount;
                
                if (dailyExp <= 0) {
                    showResult('必填项未填', true);
                    return;
                }
                
                // 计算所需天数
                const daysNeeded = (requiredExp - currentExp) / dailyExp;
                
                // 格式化为天和小时
                const formattedTime = formatDaysToDH(daysNeeded);
                
                // 显示结果
                showResult(formattedTime, false);
            });
            
            function formatDaysToDH(days) {
                // 四舍五入到两位小数
                const roundedDays = Math.round(days * 100) / 100;
                
                // 计算完整的天数
                const fullDays = Math.floor(roundedDays);
                
                // 计算剩余的小时（1天=24小时）
                const hours = Math.round((roundedDays - fullDays) * 24);
                
                // 处理小时进位
                let finalDays = fullDays;
                let finalHours = hours;
                
                if (hours === 24) {
                    finalDays += 1;
                    finalHours = 0;
                }
                
                return `${finalDays} 天 ${finalHours} 小时`;
            }
            
            function showResult(text, isError) {
                resultDiv.style.display = 'block';
                resultValue.textContent = text;
                
                if (isError) {
                    resultDiv.style.background = 'linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%)';
                    resultDiv.style.borderColor = '#f44336';
                    resultValue.style.color = '#d32f2f';
                } else {
                    resultDiv.style.background = 'linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%)';
                    resultDiv.style.borderColor = '#64b5f6';
                    resultValue.style.color = '#0d47a1';
                }
            }
            
            // 初始计算
            calculateBtn.click();
        });
    </script>
</body>
</html>
